{% extends "base.html" %}

{% block title %}404 - Not Found{% endblock %}
{% block current_path %}{{ request.url.path if request else '/404' }}{% endblock %}

{% block content %}
<!-- Error Output -->
<div class="output-block">
    <div class="output-line">
        <span class="prompt-symbol">$</span> <span style="color: var(--term-green);">cat {{ request.url.path if request else '/unknown' }}</span>
    </div>
    <div class="output-line" style="margin-top: 0.5rem;">
        <span class="error">No such file or directory</span>
    </div>
</div>

<!-- ASCII Art 404 -->
<div class="output-block" style="margin-top: 1rem;">
<pre style="color: var(--term-red);">
 _  _    ___  _  _
| || |  / _ \| || |
| || |_| | | | || |_
|__   _| | | |__   _|
   | | | |_| |  | |
   |_|  \___/   |_|
</pre>
</div>

<div class="output-block">
    <div class="output-line" style="color: var(--term-amber);">
        File not found in the garden.
    </div>
    <div class="output-line" style="color: var(--term-gray);">
        The path you requested doesn't exist. It may have been moved, deleted, or never planted.
    </div>
</div>

<!-- Help Section -->
<div class="output-block" style="margin-top: 1.5rem;">
    <div class="output-line">
        <span class="prompt-symbol">$</span> <span style="color: var(--term-green);">ls ~/</span>
    </div>
    <div class="output-line" style="color: var(--term-gray); margin-top: 0.5rem;">
        Try one of these directories:
    </div>
    <div class="dir-listing" style="margin-top: 0.5rem;">
        <a href="/" class="dir-item">
            <span class="dir-icon">d</span>
            <span class="dir-name">home</span>
        </a>
        <a href="/garden" class="dir-item">
            <span class="dir-icon">d</span>
            <span class="dir-name">notes/</span>
        </a>
        <a href="/til" class="dir-item">
            <span class="dir-icon">d</span>
            <span class="dir-name">til/</span>
        </a>
        <a href="/bookmarks" class="dir-item">
            <span class="dir-icon">d</span>
            <span class="dir-name">bookmarks/</span>
        </a>
        <a href="/topics" class="dir-item">
            <span class="dir-icon">d</span>
            <span class="dir-name">tags/</span>
        </a>
    </div>
</div>

<!-- Recent Content -->
{% if recent_content %}
<div class="output-block" style="margin-top: 1.5rem; border-top: 1px dashed var(--term-gray); padding-top: 1rem;">
    <div class="output-line">
        <span class="prompt-symbol">$</span> <span style="color: var(--term-green);">ls -t ~/garden/ | head -5</span>
    </div>
    <div class="output-line" style="color: var(--term-gray); margin-top: 0.5rem;">
        Recently updated content:
    </div>
    <ul class="content-list" style="margin-top: 0.5rem;">
        {% for item in recent_content[:5] %}
        <li class="content-item">
            <span class="content-type">
                <span style="color: var(--term-cyan);">{{ item.content_type[:4] }}</span>
            </span>
            <span class="content-title">
                <a href="/{{ item.content_type }}/{{ item.slug }}">{{ item.title }}</a>
            </span>
        </li>
        {% endfor %}
    </ul>
</div>
{% endif %}

<!-- Debug Info (if enabled) -->
{% if debug_mode %}
<div class="output-block" style="margin-top: 1.5rem; border-top: 1px dashed var(--term-red); padding-top: 1rem;">
    <div class="output-line" style="color: var(--term-red);">
        ## Debug Info
    </div>
    <div class="output-line" style="color: var(--term-gray);">
        Path: {{ request.url.path if request else 'unknown' }}
    </div>
    <div class="output-line" style="color: var(--term-gray);">
        Method: {{ request.method if request else 'unknown' }}
    </div>
    {% if error_detail %}
    <div class="output-line" style="color: var(--term-red);">
        Error: {{ error_detail }}
    </div>
    {% endif %}
</div>
{% endif %}
{% endblock %}
