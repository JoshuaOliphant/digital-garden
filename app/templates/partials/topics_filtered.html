<!-- Filtered Topics Results (HTMX Partial) -->
<div id="filtered-content">
  {% if total_results == 0 %}
  <div class="text-center py-8">
    <p class="text-garden-text-muted">
      {% if selected_tags %}
        No content found matching {{ selected_tags|join(', ') }}.
      {% else %}
        Select topics above to find related content.
      {% endif %}
    </p>
  </div>
  {% else %}
  <div class="mb-4 flex items-center justify-between">
    <p class="text-sm text-garden-text-secondary">
      Found {{ total_results }} item{{ 's' if total_results != 1 else '' }}
      {% if selected_tags %}
        matching {{ selected_tags|join(', ') }}
      {% endif %}
    </p>
    <button 
      onclick="document.querySelectorAll('input[type=checkbox]').forEach(cb => cb.checked = false); this.parentElement.parentElement.innerHTML = '<div class=&quot;text-center py-8&quot;><p class=&quot;text-garden-text-muted&quot;>Select topics above to find related content.</p></div>';"
      class="text-sm text-garden-accent hover:underline"
    >
      Clear filters
    </button>
  </div>
  
  <div class="space-y-4">
    {% for post in filtered_posts %}
    <article class="bg-garden-surface rounded-lg shadow-sm hover:shadow-md transition-all p-4">
      <div class="flex items-start gap-3">
        <!-- Growth Stage Symbol -->
        <span class="text-lg mt-1" title="Growth Stage: {{ post.growth_stage|default('seedling')|title }}">
          {% set stage = post.growth_stage|default('seedling') %}
          {% if stage == 'evergreen' %}■{% elif stage == 'growing' %}●{% elif stage == 'budding' %}◐{% else %}•{% endif %}
        </span>
        
        <div class="flex-1">
          <!-- Post Title -->
          <h3 class="text-lg font-semibold mb-1">
            <a href="/{{ post.content_type }}/{{ post.slug }}" 
               class="text-garden-text-primary hover:text-garden-accent transition-colors">
              {{ post.title }}
            </a>
          </h3>
          
          <!-- Post Meta -->
          <div class="flex items-center gap-4 text-sm text-garden-text-muted mb-2">
            <time datetime="{{ post.created }}">{{ post.created }}</time>
            <span class="capitalize">{{ post.content_type }}</span>
          </div>
          
          <!-- Post Description -->
          {% if post.description %}
          <p class="text-garden-text-secondary text-sm mb-3 leading-relaxed">{{ post.description|truncate(150) }}</p>
          {% endif %}
          
          <!-- Tags -->
          <div class="flex flex-wrap gap-2">
            {% for tag in post.tags %}
            <span class="text-xs px-2 py-1 bg-garden-accent/10 text-garden-accent rounded-full
                       {% if tag in selected_tags %}bg-garden-accent text-white{% endif %}">
              {{ tag }}
            </span>
            {% endfor %}
          </div>
        </div>
      </div>
    </article>
    {% endfor %}
  </div>
  {% endif %}
</div>