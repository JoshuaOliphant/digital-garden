<!-- Filtered Topics Results (HTMX Partial) - Terminal Style -->
<div id="filtered-content">
  {% if total_results == 0 %}
  <div class="output-block">
    <div class="output-line" style="color: var(--term-amber);">
      {% if selected_tags %}
        No results matching: {{ selected_tags|join(', ') }}
      {% else %}
        Select topics above to search...
      {% endif %}
    </div>
  </div>
  {% else %}
  <div class="output-block">
    <div class="output-line">
      <span class="prompt-symbol">$</span> <span style="color: var(--term-green);">grep {% for t in selected_tags %}--tag={{ t }} {% endfor %}~/garden/</span>
    </div>
    <div class="output-line" style="color: var(--term-gray); margin-top: 0.5rem;">
      Found {{ total_results }} result{{ 's' if total_results != 1 else '' }}
      <a href="/topics" style="color: var(--term-cyan); margin-left: 1rem;">[clear]</a>
    </div>
  </div>

  <ul class="content-list">
    {% for post in filtered_posts %}
    <li class="content-item">
      <span class="content-type">
        {% if post.content_type == 'notes' %}
        <span style="color: var(--term-cyan);">note</span>
        {% elif post.content_type == 'til' %}
        <span style="color: var(--term-yellow);">til</span>
        {% elif post.content_type == 'bookmarks' %}
        <span style="color: var(--term-magenta);">link</span>
        {% else %}
        <span style="color: var(--term-gray);">{{ post.content_type }}</span>
        {% endif %}
      </span>
      <span class="content-title">
        <a href="/{{ post.content_type }}/{{ post.slug }}">{{ post.title }}</a>
        {% if post.growth_stage %}
        <span class="growth-stage growth-{{ post.growth_stage|lower }}">[{{ post.growth_stage|lower }}]</span>
        {% endif %}
      </span>
      <span class="content-date">{{ post.created }}</span>
    </li>
    {% if post.tags %}
    <li class="content-meta">
      <span class="tags">
        {% for tag in post.tags %}
        <span class="tag {% if tag in selected_tags %}style="color: var(--term-green-bright);"{% endif %}">{{ tag }}</span>
        {% endfor %}
      </span>
    </li>
    {% endif %}
    {% if post.description %}
    <li class="content-meta" style="color: var(--term-gray);">
      {{ post.description[:100] }}{% if post.description|length > 100 %}...{% endif %}
    </li>
    {% endif %}
    {% endfor %}
  </ul>
  {% endif %}
</div>
