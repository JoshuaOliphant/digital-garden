{% extends "base.html" %}
{% from 'macros/layout.html' import page_container, content_layout, content_card_container, tag_list %}

{% block content %}
{% call page_container(title='Content tagged with #' ~ tag) %}
  {% call content_layout() %}
    <div class="grid gap-6">
      {% for post in posts %}
      {% call content_card_container() %}
        <h2 class="text-xl font-semibold mb-2">
          <a href="/{{ post.type }}/{{ post.name }}"
             class="text-garden-sage hover:text-garden-sage-dark hover:underline transition-colors"
             hx-get="/{{ post.type }}/{{ post.name }}"
             hx-target="#content-area"
             hx-swap="innerHTML"
             hx-push-url="true">
            {{ post.title }}
          </a>
        </h2>
        
        {% if post.metadata.tags %}
        {{ tag_list(post.metadata.tags) }}
        {% endif %}
      {% endcall %}
      {% endfor %}
    </div>
    
    {% if not posts %}
    <p class="text-garden-text-muted">No content found with this tag.</p>
    {% endif %}
  {% endcall %}
{% endcall %}
{% endblock %}