{% extends "base.html" %}

{% block title %}~/til{% endblock %}
{% block current_path %}/til{% endblock %}

{% block content %}
<!-- Command Output Header -->
<div class="output-block">
    <div class="output-line">
        <span class="prompt-symbol">$</span> <span style="color: var(--term-green);">cat ~/til/README.md</span>
    </div>
    <div class="output-line" style="margin-top: 0.5rem;">
        <span style="color: var(--term-amber);"># Today I Learned</span>
    </div>
    <div class="output-line" style="color: var(--term-gray);">
        Quick learnings and discoveries. Small bits of knowledge collected over time.
    </div>
</div>

<!-- Tags Section -->
{% if til_tags %}
<div class="output-block">
    <div class="output-line" style="color: var(--term-gray);">-- Tags --</div>
    <div class="tags" style="margin-top: 0.5rem;">
        {% for tag, count in til_tags.items() %}
        <a href="/tags/{{ tag }}" class="tag">{{ tag }} <span style="color: var(--term-gray);">({{ count }})</span></a>
        {% endfor %}
    </div>
</div>
{% endif %}

<!-- TIL Listing -->
<div class="output-block">
    <div class="output-line">
        <span class="prompt-symbol">$</span> <span style="color: var(--term-green);">ls -la ~/til/</span>
    </div>
</div>

{% if tils %}
<ul class="content-list">
    {% for til in tils %}
    <li class="content-item">
        <span class="content-type">
            <span style="color: var(--term-yellow);">til</span>
        </span>
        <span class="content-title">
            <a href="/til/{{ til.slug }}">{{ til.title }}</a>
            {% if til.growth_stage %}
            <span class="growth-stage growth-{{ til.growth_stage|lower }}">
                [{{ til.growth_stage|lower }}]
            </span>
            {% endif %}
        </span>
        <span class="content-date">{{ til.created }}</span>
    </li>
    {% if til.tags %}
    <li class="content-meta">
        <span class="tags">
            {% for tag in til.tags[:3] %}
            <a href="/tags/{{ tag }}" class="tag">{{ tag }}</a>
            {% endfor %}
        </span>
    </li>
    {% endif %}
    {% if til.excerpt %}
    <li class="content-meta" style="color: var(--term-gray);">
        {{ til.excerpt[:150] }}{% if til.excerpt|length > 150 %}...{% endif %}
    </li>
    {% endif %}
    {% endfor %}
</ul>
{% else %}
<div class="output-block">
    <div class="output-line" style="color: var(--term-amber);">
        No TIL entries found yet.
    </div>
    <div class="output-line" style="color: var(--term-gray);">
        Start learning to populate this directory.
    </div>
</div>
{% endif %}
{% endblock %}
