{% extends "base.html" %}

{% block title %}~/tags{% endblock %}
{% block current_path %}/tags{% endblock %}

{% block content %}
<!-- Command Output Header -->
<div class="output-block">
    <div class="output-line">
        <span class="prompt-symbol">$</span> <span style="color: var(--term-green);">ls ~/tags/</span>
    </div>
    <div class="output-line" style="margin-top: 0.5rem; color: var(--term-gray);">
        {{ total_tags }} topics | {{ total_content }} total items
    </div>
</div>

<!-- Topics/Garden Beds -->
{% for bed_name, bed_info in topics_data.items() %}
<div class="output-block" style="margin-top: 1.5rem;">
    <div class="output-line">
        <span style="color: var(--term-amber);">## {{ bed_info.icon }} {{ bed_name }}</span>
        <span style="color: var(--term-gray);"> ({{ bed_info.total_count }} items)</span>
    </div>
    <div class="tags" style="margin-top: 0.5rem;">
        {% for tag in bed_info.tags %}
        <a href="/tags/{{ tag.name }}" class="tag">{{ tag.name }} <span style="color: var(--term-gray);">({{ tag.count }})</span></a>
        {% endfor %}
    </div>
</div>
{% endfor %}

<!-- Filter Results -->
<div class="output-block" style="margin-top: 2rem; border-top: 1px dashed var(--term-gray); padding-top: 1rem;">
    <div class="output-line" style="color: var(--term-gray);">
        -- Filtered Results --
    </div>
    <div class="output-line" style="color: var(--term-cyan);">
        Click a tag above to filter content
    </div>
</div>

<div id="filtered-content">
    <!-- HTMX will inject filtered results here -->
    <div class="output-block">
        <div class="output-line" style="color: var(--term-gray);">
            <span class="prompt-symbol">$</span> grep --tag=&lt;topic&gt; ~/garden/
        </div>
        <div class="output-line" style="color: var(--term-gray);">
            Select topics above to search...
        </div>
    </div>
</div>
{% endblock %}
